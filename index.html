<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Audio Board</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
<body>
<div class="container">
  <!-- Menu line - todo: more responsive -->
  <div class="row">
    <div class="col-lg-2 col-2 text-center">
      <button onclick="toggleClass('recorder','d-none')" class="btn btn-danger">Add</button>
    </div>
    <div class="col-lg-2 col-2 text-center">
      <button onclick="toggleClass('recordings','d-none')" class="btn btn-info">Edit</button>
    </div>
    <div class="col-lg-2 col-2 text-center">
      <button onclick="toggleClass('exporting','d-none')" class="btn btn-success">Export</button>
    </div>
    <div class="col-lg-2 col-2 text-center">
      <button onclick="toggleClass('numberboard','d-none')" class="btn btn-warning">Quick Play</button>
    </div>
    <div class="col-lg-2 col-2 text-center">
      <button onclick="toggleClass('logging','d-none')" class="btn btn-primary">Log</button>
    </div>
    <hr class="col-12">
  </div>
  <!-- end of Menu -->

  <!-- one block of import/export/logging -->
  <div class="row">

    <div class="col-lg-8 col-md-8 col-sx-12">
      <!-- input section -->
      <div id="recorder" class="">
        <button class="btn btn-danger" onclick="startRecording(this);">record</button>
        <button class="btn btn-info" onclick="stopRecording(this);" disabled>stop</button>
        <label class="btn btn-warning" style="margin-top: 0.5rem">
          Upload
          <input type="file" id="audioUpload" onchange="uploadAudio(this.files);" style="display:none;" accept='.mp3,.wav'>
        </label>
        <hr class="col-12" />
      </div>
      <!-- output section -->
      <div id="exporting" class="d-none">
        <exporting></exporting>
        <hr class="col-12" />
      </div>
    </div>
    <!-- Logging -->
    <div id="logging" class="col-lg-4 col-md-4 col-12">
      <div class="card" >
        <div class="card-header">
          <h2>Log</h2>
        </div>
        <div class="card-body">
          <pre id="log"></pre>
        </div>
      </div>
    </div>

  </div>

  <!-- quick play board -->
  <div class="d-none" id="numberboard">
    <numberboard></numberboard>
    <hr class="col-12">
  </div>
  
  <!-- the recordings overview -->
  <div class="row" id="recordings">
    <recordings></recordings>
    <hr class="col-12" />
  </div>
</div>

  <!-- include extern librarys -->
  <script src="js/recorderjs/recorder.js"></script>
  <script src="js/jsZip/jszip.min.js"></script>
  <script src="js/jsZip/filesaver.js"></script>
  <script src="js/audiofilejs/audiofile.js"></script>
  <script> Mp3LameEncoderConfig = { memoryInitializerPrefixURL: "js/mp3LameLib/" }; </script>
  <script src="js/mp3LameLib/Mp3LameEncoder.min.js"></script>
  
  <!-- include app librarys -->
  <script src="js/init.js"></script>
  <script src="js/systemd.js"></script>
  <script src="js/exports.js"></script>

  <!-- include components -->
  <script src="components/numberboard.tag" type="riot/tag"></script>
  <script src="components/recordings.tag" type="riot/tag"></script>
  <script src="components/exporting.tag" type="riot/tag"></script>

  <!-- include riot.js and the compiler -->
  <script src="https://cdn.jsdelivr.net/npm/riot@3.7/riot+compiler.min.js"></script>

  <!-- Include Dexie -->
  <script src="https://unpkg.com/dexie@latest/dist/dexie.js"></script>

  <script src="js/indexed.js"></script>
  <script type="text/javascript">
    riot.mount('*');
  </script>
</body>
</html>